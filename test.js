const regex = new RegExp(
  `(?<=<h1>(<(\/)?[^hH][^>]*>)*)[^<>]+(?=(<.*>)?<\/h1>)`,
  "gm"
);
const alt = new RegExp(`(?<=<h1>(<\/?[^hH].*>)?)[^<>]+(?=(<.*>)?<\/h1>)`, "gm");
const htmlString = `<p>DECKBLATT</p><table><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr><tr><td></td><td></td><td></td><td></td></tr></table><p>Contents</p><p><a href="#_Toc521053669">1	Version History	3</a></p><p><a href="#_Toc521053670">2	Introduction	3</a></p><p><a href="#_Toc521053671">3	Overview	3</a></p><p><a href="#_Toc521053672">4	Definitions/Abbreviations	4</a></p><p><a href="#_Toc521053673">5	Operational Requirements	5</a></p><p><a href="#_Toc521053674">5.1	REQ: Multi-Language Ability	5</a></p><p><a href="#_Toc521053675">5.2	RfC Initialisation (entry points)	5</a></p><p><a href="#_Toc521053676">5.3	Audit Trail / Change Logs	8</a></p><p><a href="#_Toc521053677">5.4	RfC Creation	10</a></p><p><a href="#_Toc521053678">5.5	Processing Changes	51</a></p><p><a href="#_Toc521053679">5.6	Ticket Protection	86</a></p><p><a href="#_Toc521053680">5.7	REQ: Email Notifications	90</a></p><p><a href="#_Toc521053681">5.8	Roles	91</a></p><p><a href="#_Toc521053682">5.9	Data Access for Customer	94</a></p><p><a href="#_Toc521053683">5.10	Reporting	97</a></p><p><a href="#_Toc521053684">5.11	Full text search	97</a></p><p><a href="#_Toc521053685">5.12	Electronic Signatures and Electronic Record	98</a></p><p><a href="#_Toc521053686">5.13	Backup and Recovery	106</a></p><p><a href="#_Toc521053687">5.14	General	107</a></p><p><a href="#_Toc521053688">6	Annexes	108</a></p><p><a href="#_Toc521053689">7	Tables and Images	108</a></p><h1><a id="_Toc521053669"></a><a id="_Toc327367369"></a><a id="_Toc214361312"></a><a id="_Toc328137437"></a><a id="_Toc365646250"></a>Version History</h1><table><tr><td><p>Version</p></td><td><p>Date </p></td><td><p>Changed by</p></td><td><p>Reason for change</p></td></tr><tr><td><p>1.0</p></td><td><p>gd</p></td><td><p>gd</p></td><td><p>gd</p></td></tr></table><p><a id="_Toc382216723"></a><a id="_Toc483822884"></a>Table 1: Version history</p><h1><a id="_Toc521053670"></a>Introduction</h1><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p><h1><a id="_Toc327367370"></a><a id="_Toc214361313"></a><a id="_Toc328137438"></a><a id="_Toc365646251"></a><a id="_Toc521053671"></a>Overview </h1><p><a id="_Toc521053672"></a><a id="_Toc327367372"></a><a id="_Toc214361314"></a><a id="_Toc328137440"></a><a id="_Toc365646253"></a>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p><h1>Definitions/Abbreviations</h1><table><tr><td><p>Term/Abbreviation</p></td><td><p>Definition/Description</p></td></tr><tr><td><p>RfC</p></td></tr><tr><td><p>CAB</p></td></tr><tr><td><p>CAM</p></td></tr><tr><td><p>CD</p></td></tr><tr><td><p>CM</p></td></tr><tr><td><p>CO</p></td></tr><tr><td><p>CSVC</p></td></tr><tr><td><p>DAT</p></td></tr><tr><td><p>FNC</p></td></tr><tr><td><p>FS</p></td></tr><tr><td><p>FSC</p></td></tr><tr><td><p>GMP</p></td></tr><tr><td><p>HR</p></td></tr><tr><td><p>IM</p></td></tr><tr><td><p>PIR</p></td></tr><tr><td><p>PM</p></td></tr><tr><td><p>QA</p></td></tr><tr><td><p>REQ</p></td></tr><tr><td><p>SOP</p></td></tr><tr><td><p>SOX</p></td></tr><tr><td><p>URS</p></td></tr><tr><td><p>WI</p></td></tr></table><p><a id="_Toc483822885"></a>Table 2: Definitions/Abbreviations	</p><h1><a id="_Toc521053673"></a>Operational Requirements</h1><p><a id="_Ref495325677"></a><a id="_Toc521053674"></a>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p><h2>REQ: Multi-Language Ability</h2><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>1</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>OOTB</p></td></tr><tr><td><p>2</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config/Dev</p></td></tr></table><h2><a id="_Toc521053675"></a>RfC Initialisation (entry points)</h2><h3>REQ: </h3><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>n.a.</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>n.a.</p></td></tr><tr><td><p>1</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>OOTB</p></td></tr><tr><td><p>2</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>OOTB</p></td></tr><tr><td><p>3</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>OOTB</p></td></tr><tr><td><p>4</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Not implemented in current release</p></td></tr></table><h3> Ticket Templates</h3><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p><h4><strong>Template Administration</strong></h4><h5><strong>REQ</strong></h5><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>n.a.</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>n.a.</p></td></tr><tr><td><p>1</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Dev</p></td></tr><tr><td><p>2</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p><p>.</p></td><td><p>OOTB</p></td></tr><tr><td><p>3</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Dev</p></td></tr><tr><td><p>4</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Dev</p></td></tr><tr><td><p>5</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Dev</p></td></tr><tr><td><p>6</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr><tr><td><p>7</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr><tr><td><p>8</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Dev</p></td></tr></table><h5><strong>REQ</strong></h5><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>n.a.</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>n.a.</p></td></tr><tr><td><p>1</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Dev</p></td></tr><tr><td><p>2</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr></table><h5><strong>REQ:<br /></strong></h5><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>n.a.</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>n.a.</p></td></tr><tr><td><p>1</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>OOTB</p></td></tr><tr><td><p>2</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr><tr><td><p>3</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Not implemented in current release</p></td></tr></table><h5><strong>REQ</strong></h5><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>n.a.</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>n.a.</p></td></tr><tr><td><p>1 </p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Not implemented in current release</p></td></tr><tr><td><p>2</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr></table><p> </p><h4><strong>Use of Templates</strong></h4><h5><strong>REQ</strong></h5><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>n.a.</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>n.a.</p></td></tr><tr><td><p>1</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr><tr><td><p>2</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr><tr><td><p>3</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>OOTB</p></td></tr><tr><td><p>4</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Not implemented in current release</p></td></tr></table><h5><strong>REQ</strong></h5><table><tr><td><p>FS ID</p></td><td><p>Functions/Adjustments in Snow</p></td><td><p>Category </p><p>(ootb, config, dev)</p></td></tr><tr><td><p>n.a.</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>n.a.</p></td></tr><tr><td><p>1</p></td><td><p>Lorem ipsum dolor sit amet, consectetuer adipiscing elit. Aenean commodo ligula eget dolor. Aenean massa.</p></td><td><p>Config</p></td></tr></table>`;

const matches = htmlString.match(alt);

console.log(matches);

var myRe = alt;
var str = htmlString;
var myArray;
while ((myArray = myRe.exec(str)) !== null) {
  var msg = "Found " + myArray[0] + ". ";
  msg += "Next match starts at " + myRe.lastIndex;
  msg += `. Index of ${myArray[0]} ${htmlString.indexOf(myArray[0], 1000)}`;
  console.log(msg);
}
